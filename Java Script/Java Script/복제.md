# 복제

전자화된 시스템의 가장 중요한 특징은 복제다. 현실의 사물과 다르게 전자화된 시스템 위의 데이터를 복제 하는데는 비용이 거의 들지 않는다. 바로 이러한 특징이 소프트웨어를 기존의 산업과 구분하는 가장 큰 특징일 것이다. 프로그래밍에서 복제가 무엇인가를 살펴보자.

```jsx
var a = 1;  //원시데이터타입
var b = a;
b = 2;
console.log(a); // 1
```

결과는 당연하다. 값을 변경한 것은 변수 b이기 때문에 변수 a에 담겨있는 값은 그대로이다. 변수 b의 값에 변수 a의 값이 복제된 것이다. 이를 그림으로 표시하면 아래와 같다.

![.\복제/Untitled.png](.\복제/Untitled.png)

# 참조

위와 같은 과정은 원시데이터타입이었기에 데이터가 복제되어 사용되었다. 그러나 변수에 대입할 것이 원시데이터타입이 아닌 경우 다르게 동작한다.

```jsx
var a = {'id':1};
var b = a;
b.id = 2;
console.log(a.id);  // 2
```

여기에선 b를 변경시켰는데 a의 데이터가 바뀐다.

![.\복제/Untitled%201.png](.\복제/Untitled%201.png)

**복제는 파일을 복사**하는 것이고 **참조는 심볼릭 링크(symbolic link)** 혹은 바로가기(윈도우)를 만드는 것과 비슷하다. 심볼릭 링크를 통해서 만든 파일은 원본 파일에 대한 **주소 값**이 담겨 있다. 원본 파일을 **참조(reference)**하고 있는 것이다.

# 함수

그럼 일종의 변수할당이라고 할 수 있는 메소드의 매개변수는 어떻게 동작하는가를 살펴보자. 조금 복잡하므로 꼼꼼하게 살펴봐야 한다. 예제를 보자.

```jsx
var a = 1;
function func(b){
    b = 2;
}
func(a);
console.log(a);  //결과 1, 원시 데이터를 받기 때문
```

```jsx
var a = {'id':1};
function func(b){
    b = {'id':2};
}
func(a);
console.log(a.id);  // 결과 1. b가 새로운 객체를 바라보기에 b와 a 사이의 링크는 끊김.
```

함수 func의 파라미터 b로 전달된 값은 객체 a이다. (b = a) b를 새로운 객체로 대체하는 것은 (b = {'id':2}) b가 가르키는 객체를 변경하는 것이기 때문에 객체 a에 영향을 주지 않는다.

```jsx
var a = {'id':1};
function func(b){
    b.id = 2;
}
func(a);
console.log(a.id);  // 결과 2. 객체를 받아온 후 데이터를 변형하기에 
										// 심볼링 링크가 활성화 된 상태.
```

파라미터 b는 객체 a의 레퍼런스다. 이 값의 속성을 바꾸면 그 속성이 소속된 객체를 대상으로 수정작업을 한 것이 되기 때문에 b의 변경은 a에도 영향을 미치게 된다.