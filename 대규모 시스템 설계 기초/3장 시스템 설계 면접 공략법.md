# 3장. 시스템 설계 면접 공략법

부정적 신호(falg)

# 1단계 문제 이해 및 설계 범위 확정

요구사항을 완전히 이해하지 않고 답을 내놓는 행위는 부정적 신호다.

→ 답부터 들이밀지 말고 속도를 늦추자.

엔지니의 중요 역량은 

- **올바른 질문을 하는 것**
- **적절한 가정을 하는 것**
- **시스템 구축에 필요한 정보를 모으는 것**이다.

### 질문 예시

- 구체적으로 어떤 기능들을 만들어야 하는가?
- 제품 사용자 수는 얼마나 되나?
- 회사의 규모는 얼마나 빨리 거치리라 예상하나? 석 달, 여섯 달, 일년 뒤의 규모는 얼마가 되리라 예상하는가?
- 회사가 주로 사용하는 기술 스택(technology stack)은 무엇인가? 설계를 단순화하기 위해 활용할 수 있는 기존 서비스로는 어떤 것들이 있는가?

# 2단계 개략적인 설계안 제시 및 동의 구하기

- 설계안에 대한 최초 청사진을 제시하고 의견 구하라. 면접관을 **팀원**인 것처럼 대하라.
- 화이트보드나 종이에 핵심 컴포넌트를 포함하는 다이어그램을 그려라.
- 최초 설계안이 시스템 규모에 관계된 제약사항들을 만족하는지를 개략적으로 개산해보라. 계산 과정은 소리 내어 설명하라.

시스템의 성능 특성에 대한 질문을 던질 것이다.

대부분의 경우 면접관은 특정 시스템 컴포넌트들의 세부사항을 깊이 있게 설명하는 것을 보길 원한다.

가능하면 시스템의 구체적인 사용 사례 살핀다.

예제: 뉴스 피드 시스템 설계하기

두 가지 처리 플로(flow)로 생각할 수 있다. 

- 피드 발행: 사용자가 포스트를 올리면 관련된 데이터가 캐시/데이터베이스에 기록되고, 해당 사용자의 친구(friend) 뉴스 피드에 뜨게 된다.
- 피드 생성: 어떤 사용자의 뉴스 피드는 해당 사용자 친구들의 포스트를 시간 역순으로 정렬하여 만든다.

MECE로 처리 플로 먼저 구성하기

# 3단계 상세 설계

이 단계에 오기까지 이미 달성해야 할 목표

- 시스템 전반적으로 달성해야 할 목표와 기능 범위 확인
- 전체 설계의 개략적 청사진 마련
- 해당 청사진에 대한 면접관의 의견 청취
- 상세 설계에서 집중해야 할 영역들 확인

# 4단계 마무리

설계 결과물에 관련된 몇가지 후속 질문(follow-up questions), 또는 추가 논의 

- 면접관이 개선점 찾아보라고 주문
- 설계를 다시 요약해보기
- 오류가 발생하면 무슨 일이 생기는지 따져보기
- 운영 이슈 논의 (메트릭, 로그, 시스템 배포roll-out)
- 미래에 닥칠 규모 확장 요구에 대처(사용자 증가 백만→천만)
- 세부적 개선사항 제안

**해야 할 것**

- 질문을 통해 확인하기
- 문제의 요구사항 이해하기
- 정답 또는 최선의 답안이 없다는 것을 명심하기(멘붕 금지)
대신 요구사항을 정확하게 이해했는지 다시 확인하기
- 면접관과 소통하기. 면접관이 우리의 사고 흐름을 이해할 수 있도록 하기
- 여러 해법(A안, B안)을 함께 제시하기
- 개략적 설계에 면접관이 동의하면, 각 컴포넌트의 세부사항을 설명하기 시작
- 면접관의 아이디어를 이끌어내기
- 진행 중에 막혔다면, 힌트 요청하기

# 시간 배분

최대 1시간 기준으로 다음과 같이 진행

1단계 - 문제 이해 및 설계 범위 확정: 3~10분

2단계 - 개략적 설계안 제시 및 동의 구하기: 10~15분

3단계 - 상세 설계: 10~25분

4단계 - 마무리: 3~5분